<!doctype html><html lang=en> <head> <meta charset=utf-8> <title>ror2-eh-calc</title> <link href="data:image/gif;base64,R0lGODlhEAAQAPECACgoKEWFiAAAAAAAACH5BAUKAAIALAAAAAAQABAAAAIxFI6ZYhqhAIsvzvTqaijDjXnfcR3iKHGnlnYrwjTrF8tvWp5w7bJ1HCH9gIrhUPgrAAA7" rel=icon> <style>body{background-color: #282828; color: #dbdbb2; font-family: sans-serif}.grid{display: grid; grid-template-columns: auto auto}.column{display: grid; grid-template-columns: auto}.grid > label{text-align: right}select{width: 146px}input{width: 142px}#button-container{display: flex; justify-content : center}#outputs{display: grid; grid-template-columns: auto auto auto}.common{color: #fbf1c7}.uncommon{color: #98971a}footer{position: fixed; bottom: 0; width: 100%; text-align: center}</style> </head> <body> <div id="inputs" class="grid"> <label>Character:</label> <select id="char-select"> <option value="commando">Commando</option> <option value="huntress">Huntress</option> <option value="mul-t">MUL-T</option> <option value="engineer">Engineer</option> <option value="artificer">Artificer</option> <option value="mercenary">Mercenary</option> <option value="rex">Rex</option> <option value="loader">Loader</option> <option value="acrid">Acrid</option> </select> <label for="level">Level:</label> <input id="level" type="number" min="1" max="999" value="20"/> <label for="commons"># <span>Commons</span>:</label> <input id="commons" type="number" min="1" max="999" value="30"/> <label for="uncommons"># <span>Uncommons</span>:</label> <input id="uncommons" type="number" min="1" max="999" value="10"/> <label for="damage">Average Incoming Pre-Mitigation Hit:</label> <input id="damage" type="number" min="1" max="999999999" value="1000"/> <label for="spinel">Spinel Tonic?</label> <input id="spinel" type="checkbox"/> <label for="jade">Jade Elephant?</label> <input id="jade" type="checkbox"/> <label for="drizzle">Drizzle Mode?</label> <input id="drizzle" type="checkbox"/> </div><div id="button-container"> <button id="calc" onclick="calculate()">Calculate</button> </div><hr/> <div id="outputs"> <div class="grid"> <label>Armor:</label> <output id="out-armor"></output> <label>Health:</label> <output id="out-health"></output> <label>Effective Health Multiplier:</label> <output id="out-ehm"></output> <label>Effective Health:</label> <output id="out-eh"></output> <label>Block Chance %:</label> <output id="out-block"></output> <label>Effective Block Health Multiplier:</label> <output id="out-ebhm"></output> <label>Effective Block Health:</label> <u><b><output id="out-ebh"></output></b></u> </div><div class="grid"> <label class="common"># Repulsion Armor Plate:</label> <output id="repul" class="common"></output> <label class="common"># Tougher Times:</label> <output id="tough" class="common"></output> <label class="uncommon"># Infusion:</label> <output id="infus" class="uncommon"></output> <label class="uncommon"># Rose Buckler:</label> <output id="rose" class="uncommon"></output> </div><div class="column"> <label> Next best <span class="common">common:<br/> • <output id="best-common"></output></span> (+<output id="best-common-ebh"></output>ebh) </label> <label> Next best <span class="uncommon">uncommon:<br/> • <output id="best-uncommon"></output></span> (+<output id="best-uncommon-ebh"></output>ebh) </label> </div></div><footer>This page is smaller than 2KB</footer> <script type="text/javascript">var CHARS={commando:{armor:0,health:110,"health-lvl":33},huntress:{armor:0,health:90,"health-lvl":27},"mul-t":{armor:12,health:200,"health-lvl":60},engineer:{armor:0,health:130,"health-lvl":39},artificer:{armor:0,health:110,"health-lvl":33},mercenary:{armor:20,health:140,"health-lvl":42},rex:{armor:20,health:130,"health-lvl":39},loader:{armor:20,health:160,"health-lvl":48},acrid:{armor:20,health:160,"health-lvl":48}};function id_ele(a){return document.getElementById(a)}function get_block(a){return 1-1/(.15*a+1)}function get_ehm(a){return(100+a)/100}function get_ebh(a,b,m,h,d,c,f){b+=100*c;a=get_ehm(a+30*f);b*=a;h=5*h*a;return Math.round((b+h*b/Math.max(a,m-h))/(1-get_block(d)))}function calculate(){var a=CHARS[id_ele("char-select").value],b=id_ele("level").value,m=id_ele("commons").value,h=id_ele("uncommons").value,d=id_ele("damage").value,c=id_ele("spinel").checked,f=id_ele("jade").checked,e=id_ele("drizzle").checked,g=a.armor,n=a.health+a["health-lvl"]*b,k=b=a=0,l=0;for(g+=20*c+500*f+70*e;m+h;)f=c=-1,m&&(c=get_ebh(g,n,d,a+1,b,k,l),f=0,e=get_ebh(g,n,d,a,b+1,k,l),e>c&&(c=e,f=1)),h&&(e=get_ebh(g,n,d,a,b,k+1,l),e>c&&(c=e,f=2),e=get_ebh(g,n,d,a,b,k,l+1),e>c&&(f=3)),0===f?(++a,--m):1===f?(++b,--m):2===f?(++k,--h):3===f&&(++l,--h);m=get_ebh(g,n,d,a+1,b,k,l);h="Repulsion Armor Plate";c=get_ebh(g,n,d,a,b+1,k,l);c>m&&(m=c,h="Tougher Times");c=get_ebh(g,n,d,a,b,k+1,l);f="Infusion";e=get_ebh(g,n,d,a,b,k,l+1);e>c&&(c=e,f="Rose Buckler");e=g+30*l;var p=n+100*k,q=get_ehm(e).toFixed(2),r=p*get_ehm(e),t=(100*get_block(b)).toFixed(2);d=get_ebh(g,n,d,a,b,k,l);g=(d/p).toFixed(2);id_ele("out-armor").value=e;id_ele("out-health").value=p;id_ele("out-ehm").value=q;id_ele("out-eh").value=r;id_ele("out-block").value=t;id_ele("out-ebhm").value=g;id_ele("out-ebh").value=d;id_ele("repul").value=a;id_ele("tough").value=b;id_ele("infus").value=k;id_ele("rose").value=l;id_ele("best-common").value=h;id_ele("best-common-ebh").value=m-d;id_ele("best-uncommon").value=f;id_ele("best-uncommon-ebh").value=c-d};</script> </body></html>